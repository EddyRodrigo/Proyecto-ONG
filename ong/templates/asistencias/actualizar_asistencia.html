<<!DOCTYPE html>
<html>
<head>
    <title>Editar Asistencia</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
</head>

<body>
<div class="container mt-4">
    <h2>Editar Asistencia</h2>

    <form method="POST" class="card p-4">
        {% csrf_token %}

        <label>Evento</label>
        <select name="evento" class="form-control mb-2" required>
            {% for e in eventos %}
                <option value="{{ e.id_evento }}" {% if asistencia.evento.id_evento == e.id_evento %}selected{% endif %}>
                    {{ e.nombre_evento }}
                </option>
            {% endfor %}
        </select>

        <label>Voluntario</label>
        <select name="voluntario" class="form-control mb-2">
            <option value="">Ninguno</option>
            {% for v in voluntarios %}
                <option value="{{ v.id_voluntario }}" {% if asistencia.voluntario and asistencia.voluntario.id_voluntario == v.id_voluntario %}selected{% endif %}>
                    {{ v.nombre }} {{ v.apellido }}
                </option>
            {% endfor %}
        </select>

        <label>Inscrito</label>
        <select name="inscrito" class="form-control mb-2">
            <option value="">Ninguno</option>
            {% for i in inscritos %}
                <option value="{{ i.id_inscrito }}" {% if asistencia.inscrito and asistencia.inscrito.id_inscrito == i.id_inscrito %}selected{% endif %}>
                    {{ i.nombre }} {{ i.apellido }}
                </option>
            {% endfor %}
        </select>

        <label>Hora de llegada</label>
        <input type="datetime-local" name="hora_llegada" value="{{ asistencia.hora_llegada|date:'Y-m-d\\TH:i' }}" class="form-control mb-2">

        <label>Hora de salida</label>
        <input type="datetime-local" name="hora_salida" value="{{ asistencia.hora_salida|date:'Y-m-d\\TH:i' }}" class="form-control mb-3">

        <button class="btn btn-warning">Actualizar</button>
        <a href="{% url 'listar_asistencias' %}" class="btn btn-secondary">Volver</a>
    </form>
</div>
</body>
</html>

